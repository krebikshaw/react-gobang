{"version":3,"sources":["constants/style.js","component/Crosses.js","component/Board.js","calculateWinner.js","Gobang.js","index.js"],"names":["GlobalStyle","createGlobalStyle","Cell","styled","div","props","$type","Cross","$show","theme","colors","cross_line","Crosses","value","handleClick","useState","show","setShow","onClick","BoardWrapper","Board","board","map","row","index_y","item","index_x","countTotal","y","x","directionX","directionY","now","tempX","tempY","total","calculateWinner","chess","target","Wrapper","bg_colors","bg_primary","Title","TitleText","h5","font_size","title","FinishBg","text","Gobang","Array","fill","setBoard","color","currentChess","setCurrentChess","class","column","window","location","reload","ReactDOM","render","title_primary","text_primary","input","document","getElementById"],"mappings":"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","file":"static/js/main.0fe3903b.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\"\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  li {\n    list-style-type: none;\n  }\n  \n  a {\n    text-decoration: none;\n  \n    &:hover {\n      text-decoration: none;\n    }\n  }\n  \n  a:hover {\n    cursor: pointer;\n  }\n\n  button {\n    border: none;\n    background-color: #fff;\n    cursor: pointer;\n  }\n\n  button:hover, button:focus {\n    outline: none;\n  }\n\n  body {\n    font:  14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    line-height: 1.4em;\n  }\n`\nexport default GlobalStyle;\nexport const MEDIA_QUERY_MD = '@media scream and (min-width: 768px)';\nexport const MEDIA_QUERY_LG = '@media scream and (min-width: 1000px)';\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport GlobalStyle from './../constants/style';\n\nconst Cell = styled.div`\n  position: relative;\n  display: flex;\n  height: 28px;\n  width: 28px;\n  z-index: 10;\n  ${\n    props => !props.$type && `\n      cursor: pointer;\n      &:hover {\n        background:radial-gradient(circle closest-side at center,#f7fdff,rgba(0,0,0,0));\n      }\n    ` \n  }\n  ${\n    props => props.$type === 'black' && `\n      background: url(black-circle.svg) center/cover no-repeat;\n      background-size: 20px 20px;\n    `\n  }\n  ${\n    props => props.$type === 'white' && `\n      background: url(white-circle.svg) center/cover no-repeat;\n      background-size: 20px 20px;\n    `\n  }\n`;\n\nconst Cross = styled.div`\n  ${\n    props => props.$show  && `\n      width: 15px; \n      height: 15px;\n      box-shadow: 2px 2px 0px 0 ${props.theme.colors.cross_line};\n      position: absolute;\n      left: -6%;\n      top: -6%;\n      z-index: 5;\n      &::after {\n        content: \"\";\n        width: 15px; \n        height: 15px;\n        box-shadow: -2px -2px 0 0 ${props.theme.colors.cross_line};\n        position: absolute;\n        z-index: 5;\n        left: 112%;\n        top: 114%;\n      }\n    ` \n  }\n`;\n\nconst Crosses = ({ value, handleClick }) => {\n  const [show, setShow] = useState(true)\n  const handleClicked = () => {\n    if ( !show ) return\n    handleClick();\n  }\n  const handleSwitch = () => {\n    setShow(false)\n  }\n\n  return (\n    <Cell\n      $type={value}\n      onClick={() => {\n        handleClicked()\n        handleSwitch()\n      }}\n    >\n      <Cross $show={show} />\n    </Cell>\n  )\n};\n\nexport default Crosses;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport GlobalStyle from './../constants/style';\nimport Crosses from './Crosses';\n\nconst BoardWrapper = styled.div`\n  position: relative;\n  left: 2%;\n  width: 558px;\n  display: flex;\n  flex-wrap: wrap;\n  z-index: 5;\n  &::before {\n    content: \"\";\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    right: 25px;\n    bottom: -1px;\n    border: 14px solid ${props => props.theme.colors.cross_line};\n  }\n`;\n\nconst Board = ( { board, handleClick } ) => {\n  return (\n    <BoardWrapper>\n      {\n        board.map((row, index_y) => row.map((item, index_x) => <Crosses\n          key={index_x}\n          value={item}\n          handleClick={() => handleClick(index_x, index_y)}\n        />))\n      }\n    </BoardWrapper>\n  )\n};\n\nexport default Board;","const calculateWinner = (board, chess) => {\n  const x = chess.index_x;\n  const y = chess.index_y;\n  const target = board[y][x];\n\n  if (\n    countTotal(board, y, x, 1, 0) + countTotal(board, y, x, -1, 0) >= 4 ||\n    countTotal(board, y, x, 0, 1) + countTotal(board, y, x, 0, -1) >= 4 ||\n    countTotal(board, y, x, 1, 1) + countTotal(board, y, x, -1, -1) >= 4 ||\n    countTotal(board, y, x, 1, -1) + countTotal(board, y, x, -1, 1) >= 4\n  ) return target;\n}\n\nfunction countTotal(board, y, x, directionX, directionY) {\n  const now = board[y][x];\n  let tempX = x;\n  let tempY = y;\n  let total = 0;\n\n  while (total < 5) {\n    tempX += directionX\n    tempY += directionY\n    if (tempX < 0 || tempX >= 19 || tempY < 0 || tempY >= 19 || board[tempY][tempX] !== now) break;\n    total++;\n  }\n  return total;\n}\n\nexport default calculateWinner;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport GlobalStyle from './constants/style';\nimport Board from './component/Board'\nimport calculateWinner from './calculateWinner'\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  padding: 15px 60px;\n  display: flex;\n  justify-content: center;\n  background: ${props => props.theme.bg_colors.bg_primary};\n  font-family: Fugaz One,cursive;\n  & .flex {\n    display: flex;\n  }\n`;\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  margin: 35px 0;\n`;\n\nconst TitleText = styled.h5`\n  font-size: ${props => props.theme.font_size.title};\n  font-weight: bolder;\n`;\n\nconst BoardWrapper = styled.div`\n  position: relative;\n  max-height: 560px;\n  max-width: 600px;\n  display: flex;\n  justify-content: flex-end;\n  align-item: center;\n  padding: 14px;\n  border-radius: 10px;\n  background: url(wood.jpg) center/cover no-repeat;\n  box-shadow: 0 0 15px 3px rgba(0,0,0,0.5);\n  &::after {\n    position: absolute;\n    content: \"\";\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e8e7e41f;\n  }\n`;\n\nconst Info = styled.div`\n  padding: 90px 10px 10px 20px;\n  & p {\n    font-size: ${props => props.theme.font_size.text}\n  }\n`;\n\nconst FinishBg = styled.div`\n  transition-duration: 6s;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #5d58587a;\n  flex-direction: column;\n  & p {\n    color: #fff;\n    font-size: 5rem;\n    text-shadow: 0 0 90px rgba(0,0,0,1);\n    z-index: 99;\n    margin-bottom: 100px;\n  }\n  & button {\n    height: 25px;\n    width: 60px;\n    margin-left: 12px;\n    transition: background-color 0.1s ease-in-out, border-color 0.1s ease-in-out, color 0.1s ease-in-out;\n    height: 2.75em;\n    line-height: 2.75em;\n    background-color: transparent;\n    border-radius: 4px;\n    border: solid 1px #fff;\n    color: #fff !important;\n    cursor: pointer;\n    text-align: center;\n    text-decoration: none;\n    z-index: 99;\n    &:hover {\n      border-color: #0edef9;\n      color: #0edef9 !important;\n    }\n  }\n`;\n\nconst Gobang = () => {\n  const [board, setBoard] = useState(() => {\n    return Array(19).fill(Array(19).fill(null));\n  });\n  const [currentChess, setCurrentChess] = useState({\n    color: 'black',\n    index_x: 0,\n    index_y: 0\n  });\n\n  const handleClick = (x, y) => {\n    setBoard(() => board.map((row, index_y) => {\n      if (index_y !== y) return row;\n      return row.map((column, index_x) => {\n        if (index_x !== x) return column;\n        return currentChess.color;\n      })\n    }));\n    setCurrentChess(() => {\n      return {\n        color: currentChess.color === 'black' ? 'white' : 'black',\n        index_x: x,\n        index_y: y\n      }\n    });\n  }\n\n  return (\n    <Wrapper>\n      <div class=\"flex\">\n        <GlobalStyle />\n        <div>\n          <Title>\n            <TitleText>嘿嘿五子棋</TitleText>\n          </Title>\n          <BoardWrapper>\n            <Board \n              board={board} \n              handleClick={handleClick}\n            />\n          </BoardWrapper>\n        </div>\n      </div>\n      {\n        calculateWinner(board, currentChess) && <FinishBg>\n          <p>恭喜 {calculateWinner(board, currentChess) === 'black' ? '黑棋' : '白棋\b'} 獲勝！</p>\n            <button onClick={() => {window.location.reload()}}>再玩一次</button>\n        </FinishBg>\n      }\n    </Wrapper>\n  );\n};\n\nexport default Gobang;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Gobang from './Gobang'\nimport { ThemeProvider } from 'styled-components';\n\nconst theme = {\n  colors: {\n    title_primary: '',\n    text_primary: '',\n    cross_line: '#525151'\n  },\n  bg_colors: {\n    bg_primary: '#f2fffb'\n  },\n  font_size: {\n    title: '3rem',\n    text: '1.4rem',\n    input: '1.5rem'\n  },\n};\n\nReactDOM.render(\n  <ThemeProvider theme={ theme }>\n    <Gobang />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}